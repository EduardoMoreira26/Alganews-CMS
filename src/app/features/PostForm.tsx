import { useState } from "react"
import { Tag } from "react-tag-input"
import styled from "styled-components"
import info from "../../core/utils/info"
import PostService from "../../sdk/services/Post.service"
import Button from "../components/Button/Button"
import ImageUpload from "../components/ImageUpload"
import Input from "../components/Input/Input"
import MarkdownEditor from "../components/MarkdownEditor"
import TagInput from "../components/TagInput"
import WordPriceCounter from "../components/WordPriceCounter"

export default function PostForm() {
  const [tags, setTags] = useState<Tag[]>([])
  const [body, setBody] = useState('')
  const [title, setTitle] = useState('')
  const [imageUrl, setImageUrl] = useState('')

  async function handleFormSubmit(e: React.FormEvent<HTMLFormElement>) {
    e.preventDefault()
    const newPost = {
      body,
      title,
      tags: tags.map(tag => tag.text),
      imageUrl: "data:image/jpeg;base64,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"
    }

    const insertedPost = await PostService.insertNewPost(newPost);

    info({
      title: title,
      description: `Você publicou um novo post com o id ${insertedPost.id}`,
    })
  }

  return <PostFormWrapper onSubmit={handleFormSubmit}>
    <Input
      label="título"
      value={title}
      onChange={e => setTitle(e.target.value)}
      placeholder="e.g.: Como fiquei rico aprendendo React"
    />
    <ImageUpload 
      onImageUpload={setImageUrl}
      label="Thumbnail do post" 
    />
    <MarkdownEditor onChange={setBody} />
    <TagInput
      tags={tags}
      onAdd={tag => setTags([...tags, tag])}
      onDelete={index => setTags(tags.filter((_, i) => i !== index))}
      placeholder="Insira as tags deste post"
    />
    <PostFormSubmitWrapper>
      <WordPriceCounter pricePerWord={0.25} wordsCount={40} />
      <Button variant="primary" label="Salvar post" type="submit" />
    </PostFormSubmitWrapper>
  </PostFormWrapper>
}

const PostFormWrapper = styled.form`
  display: flex;
  flex-direction: column;
  gap: 24px;
`

const PostFormSubmitWrapper = styled.div`
  display: flex;
  justify-content: space-between;
`